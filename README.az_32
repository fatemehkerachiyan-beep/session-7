آزمایش سی و دو :
هدف آزمایش:
هدف از این آزمایش آشنایی با موارد زیر است:
برقراری ارتباط I2C با استفاده از کتابخانه Wire
تنظیم آردوینو به‌عنوان Slave
دریافت داده از Master و استفاده از آن برای کنترل خروجی PWM
خواندن مقدار آنالوگ از سنسور (پتانسیومتر)
ارسال داده آنالوگ به Master از طریق I2C
وسایل مورد نیاز:
برد Arduino Uno (Slave)
برد Arduino دیگر (Master)
LED
مقاومت 220 اهم
پتانسیومتر
سیم رابط
بردبورد
شرح کلی برنامه:
در این برنامه آردوینو به‌عنوان Slave با آدرس 8 در شبکه I2C تعریف شده است.
Slave مقدار آنالوگ خوانده‌شده از پایه A0 را به Master ارسال می‌کند و در عوض یک مقدار عددی از Master دریافت کرده و از آن برای کنترل شدت نور LED استفاده می‌نماید.
نحوه عملکرد مدار:
1. Master یک مقدار عددی به Slave ارسال می‌کند
2. Slave مقدار دریافتی را به PWM تبدیل کرده و شدت نور LED را تنظیم می‌کند
3. Slave مقدار آنالوگ پتانسیومتر را خوانده و تبدیل می‌کند
4. Master با درخواست داده، مقدار آنالوگ را از Slave دریافت می‌کند
نتیجه‌گیری:
در این آزمایش ارتباط I2C به‌صورت دوطرفه پیاده‌سازی شد. آردوینو Slave توانست داده دریافت کرده و خروجی PWM را کنترل کند و همچنین داده آنالوگ را پس از پردازش به Master ارسال نماید. این روش در پروژه‌های صنعتی، سنسورهای هوشمند و شبکه‌های میکروکنترلری کاربرد فراوان دارد.